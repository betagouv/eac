<page-actor>
  <article>
    <section class="block actor">
      <h2>{ this.actor.name }</h2>
      <nav class=tags>
        <a class=tag each={ tag in this.actor.Activite }>{ tag }</a>
      </nav>
      <p>{ this.actor.description }</p>
    </section>

    <section class="block actions" if={ this.actor.actions }>
      <h2>Actions propos√©es</h2>
      <article>
        <p>{ this.actor.actions }</p>
      </article>
    </section>

    <aside class=block>
      <address>
        <iframe width=425 height=350 frameborder=0 scrolling=no marginheight=0 marginwidth=0 src="https://www.openstreetmap.org/export/embed.html?bbox={ Number(actor.longitude) - 0.02 }%2C{ Number(actor.latitude) - 0.02 }%2C{ Number(actor.longitude) + 0.02 }%2C{ Number(actor.latitude) + 0.02 }&amp;layer=hot&amp;marker={ actor.latitude }%2C{ actor.longitude }"></iframe><br/>
        <small>
          <a href="https://www.openstreetmap.org/?mlat={ actor.latitude }&mlon={ actor.longitude }#map=15/{ actor.latitude }/{ actor.longitude }&layers=T" target=_blank>
            { this.actor.address }<br>
            { this.actor.postalCode } { this.actor.city }
          </a>
        </small>
      </address>
    </aside>

    <geo if={ this.actor.distance }>{ Math.ceil(this.actor.distance) }km</geo>
  </article>

  <script>
    this.actor = opts.actor
  </script>

  <style scoped>
    :scope {
      display: grid;
      grid-template:
        'actor aside'
        'actions aside'
    }
    .actor {
      grid-area: actor;
    }
    .actions {
      grid-area: actions;
    }
    aside {
      grid-area: aside;
    }

    .actions article:not(:last-of-type) {
      padding-bottom: 1rem;
      margin-bottom: 1rem;
      border-bottom: 1px solid #ccc;
    }
  </style>
</page-actor>
