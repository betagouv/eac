<page-search>
  <section>
    <h2>Résultats pour "{ opts.q }"</h2>

    <action-card each={ action in results } maxlength=300 address></action-card>

    <p if={ !results || !results.length }>Aucun résultat ne correspond à votre recherche.</p>

    <a class=button href=#>Retour à la recherche</a>
  </section>

  <script>
    let results = this.searchableActors.search(opts.q)
    const types = opts.filters.type
    if(types && types.length) {
      results = results.filter(result => result.Type.some(type => types.includes(type)))
    }
    this.results = results
  </script>

  <style scoped>
    poi-card {
      padding: 2rem;
      margin-bottom: 2rem;
      border-bottom: 1px solid #ddd;
    }

    #filters {
      margin-bottom: 2rem;
    }
    #filters h4 {
      display: inline-block;
      margin-right: 1rem;
      font-size: 2rem;
    }
  </style>
</page-search>
